!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=27)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},,function(t,e,r){var n=r(11);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){var n=r(12),i=r(9);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e}},,,,function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},,function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}t.exports=r},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},,,,,,,,,,,,,,,function(t,e,r){"use strict";r.r(e),r.d(e,"ToolsetTypesYoast",(function(){return Z}));var n=r(0),i=r.n(n),o=r(1),u=r.n(o),c=r(4),a=r.n(c),s=r(5),l=r.n(s),f=r(2),h=r.n(f),y=function(){function t(e,r){i()(this,t),this.Field=e,this.CollectionFactory=r}return u()(t,[{key:"getValues",value:function(){throw new TypeError("Abstract method.")}}]),t}();function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var d=function(t){a()(r,t);var e=p(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getValues",value:function(){var t=document.getElementsByName(this.Field.getInputName());if(!t.length)return[];if(!(t=t[0]).selectedIndex)return[];var e=t.options[t.selectedIndex],r=this.CollectionFactory.createCollection(this.Field);return r.setTitle(e.value),r.setAttrHref(e.getAttribute("data-url")),[r]}}]),r}(y);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var g=function(t){a()(r,t);var e=v(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getValues",value:function(){var t=document.querySelectorAll("input[name^='"+this.Field.getInputName()+"']"),e=[];if(!t.length)return e;for(var r=0;r<t.length;r++)if(t[r].value){var n=t[r].parentElement.nextElementSibling;if(n&&n.classList.contains("js-wpt-file-preview")){var i=n.firstElementChild;if(i&&"img"===i.tagName.toLowerCase()){var o=this.CollectionFactory.createCollection(this.Field);o.setAttrSrc(t[r].value),o.setAttrAlt(i.getAttribute("alt")),o.setAttrTitle(i.getAttribute("title")),e.push(o)}}}return e}}]),r}(y);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var k=function(t){a()(r,t);var e=m(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getValues",value:function(){var t=document.getElementsByName(this.Field.getInputName());if(!t.length)return[];var e=this.CollectionFactory.createCollection(this.Field);if("undefined"!=typeof tinyMCE){var r=tinyMCE.get(t[0].id);if(r)return e.setValue(r.getContent()),[e]}return e.setValue(t[0].value),[e]}}]),r}(y);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var R=function(t){a()(r,t);var e=w(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getValues",value:function(){var t=document.querySelectorAll("textarea[name^='"+this.Field.getInputName()+"']"),e=[];if(!t.length)return e;for(var r=0;r<t.length;r++){var n=this.CollectionFactory.createCollection(this.Field);n.setValue(t[r].value),e.push(n)}return e}}]),r}(y);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var T=function(t){a()(r,t);var e=F(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getValues",value:function(){var t=document.querySelectorAll("input[name^='"+this.Field.getInputName()+"']"),e=[];if(!t.length)return e;for(var r=0;r<t.length;r++){var n=this.CollectionFactory.createCollection(this.Field);n.setValue(t[r].value),e.push(n)}return e}}]),r}(y),S=function(){function t(e){i()(this,t),this.CollectionFactory=e}return u()(t,[{key:"createMiner",value:function(t){switch(t.getType()){case"wysiwyg":return new k(t,this.CollectionFactory);case"multi-line":return new R(t,this.CollectionFactory);case"image":return new g(t,this.CollectionFactory);case"post":return new d(t,this.CollectionFactory);default:return new T(t,this.CollectionFactory)}}}]),t}(),b=function(){function t(){i()(this,t)}return u()(t,[{key:"getHtmlTagCharacters",value:function(){throw new TypeError("Abstract method.")}},{key:"getDecoratedValue",value:function(t){return"<"+this.getHtmlTagCharacters()+">"+t.getValue()+"</"+this.getHtmlTagCharacters()+">"}}]),t}();function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var C=function(t){a()(r,t);var e=A(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getDecoratedValue",value:function(t){return t.getValue()}}]),r}(b);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var D=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"p"}}]),r}(b),P=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"h1"}}]),r}(b),_=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"h2"}}]),r}(b),E=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"h3"}}]),r}(b),N=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"h4"}}]),r}(b),j=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"h5"}}]),r}(b),O=function(t){a()(r,t);var e=x(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getHtmlTagCharacters",value:function(){return"h6"}}]),r}(b);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var H=function(t){a()(r,t);var e=V(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"isNoFollow",value:function(){return!1}},{key:"getDecoratedValue",value:function(t){var e=this.isNoFollow()?' rel="nofollow"':"";return t.hasOwnProperty("getAttrHref")&&t.hasOwnProperty("getTitle")?"<a"+e+' href="'+t.getAttrHref()+'">'+t.getTitle()+"</a>":"<a"+e+' href="'+t.getValue()+'">'+t.getValue()+"</a>"}}]),r}(b),I=function(t){a()(r,t);var e=V(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"isNoFollow",value:function(){return!0}}]),r}(H);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var Y=function(t){a()(r,t);var e=M(r);function r(){return i()(this,r),e.apply(this,arguments)}return u()(r,[{key:"getDecoratedValue",value:function(t){return'<img src="'+t.getAttrSrc()+'" alt="'+t.getAttrAlt()+'" title="'+t.getAttrTitle()+'" />'}}]),r}(b),Q=function(){function t(){i()(this,t),this.decorators={}}return u()(t,[{key:"getDecorator",value:function(t){switch(t.getDisplayAs()){case"p":return this.decorators.paragraph=this.decorators.paragraph||new D,this.decorators.paragraph;case"h1":return this.decorators.headline1=this.decorators.headline1||new P,this.decorators.headline1;case"h2":return this.decorators.headline2=this.decorators.headline2||new _,this.decorators.headline2;case"h3":return this.decorators.headline3=this.decorators.headline3||new E,this.decorators.headline3;case"h4":return this.decorators.headline4=this.decorators.headline4||new N,this.decorators.headline4;case"h5":return this.decorators.headline5=this.decorators.headline5||new j,this.decorators.headline5;case"h6":return this.decorators.headline6=this.decorators.headline6||new O,this.decorators.headline6;case"img":return this.decorators.image=this.decorators.image||new Y,this.decorators.image;case"link":return this.decorators.link=this.decorators.link||new H,this.decorators.link;case"link-nofollow":return this.decorators.linknofollow=this.decorators.linknofollow||new I,this.decorators.linknofollow;default:return this.decorators.raw=this.decorators.raw||new C,this.decorators.raw}}}]),t}(),B=function(){function t(){i()(this,t),this.value=""}return u()(t,[{key:"setValue",value:function(t){this.value=this.normaliseInputToString(t)}},{key:"getValue",value:function(){return this.value}},{key:"normaliseInputToString",value:function(t){return null===t?"":String(t)}}]),t}();function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var L=function(t){a()(r,t);var e=q(r);function r(){var t;return i()(this,r),(t=e.call(this)).attrAlt="",t.attrTitle="",t.attrSrc="",t}return u()(r,[{key:"setAttrAlt",value:function(t){this.attrAlt=this.normaliseInputToString(t)}},{key:"getAttrAlt",value:function(){return this.attrAlt}},{key:"setAttrTitle",value:function(t){this.attrTitle=this.normaliseInputToString(t)}},{key:"getAttrTitle",value:function(){return this.attrTitle}},{key:"setAttrSrc",value:function(t){this.attrSrc=this.normaliseInputToString(t)}},{key:"getAttrSrc",value:function(){return this.attrSrc}}]),r}(B);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l()(this,r)}}var z=function(t){a()(r,t);var e=J(r);function r(){var t;return i()(this,r),(t=e.call(this)).title="",t.attrHref="",t}return u()(r,[{key:"setTitle",value:function(t){this.title=this.normaliseInputToString(t)}},{key:"getTitle",value:function(){return this.title}},{key:"setAttrHref",value:function(t){this.attrHref=this.normaliseInputToString(t)}},{key:"getAttrHref",value:function(){return this.attrHref}}]),r}(B),G=function(){function t(){i()(this,t)}return u()(t,[{key:"createCollection",value:function(t){switch(t.getType()){case"image":return new L;case"post":return new z;default:return new B}}}]),t}(),K=function(){function t(e,r,n,o){i()(this,t),this.slug=e,this.inputName=r,this.type=n,this.displayAs=o}return u()(t,[{key:"getSlug",value:function(){return this.slug}},{key:"getInputName",value:function(){return this.inputName}},{key:"getDisplayAs",value:function(){return this.displayAs}},{key:"getType",value:function(){return this.type}}]),t}(),U=function(){function t(){i()(this,t)}return u()(t,[{key:"getFields",value:function(){var t=JSON.parse(jQuery("#types_yoast_data").html()),e=this,r=[];return jQuery.each(t.fields,(function(t,n){r.push(e.getFieldByArray(n))})),r}},{key:"getFieldByArray",value:function(t){return new K(t.slug,t.inputName,t.type,t.displayAs)}}]),t}(),W=function(){function t(e,r,n){i()(this,t),this.pluginName="ToolsetTypesYoast",this.applyFieldEventsTimeout=null,this.Yoast=e,this.MinerFactory=r,this.DecoratorFactory=n,this.fields=[]}return u()(t,[{key:"register",value:function(){this.Yoast.registerPlugin(this.pluginName,{status:"ready"})}},{key:"registerModifications",value:function(){var t=this;this.Yoast.registerModification("content",(function(e){return t.extendContent(e)}),this.pluginName,10)}},{key:"setFields",value:function(t){this.fields=[];for(var e=0;e<t.length;e++)this.addField(t[e])}},{key:"addField",value:function(t){t instanceof K&&(this.fields.push(t),this.applyFieldEvents())}},{key:"applyFieldEvents",value:function(){var t=this;clearTimeout(this.applyFieldEventsTimeout),this.applyFieldEventsTimeout=setTimeout((function(){t._applyFieldEvents()}),500)}},{key:"_applyFieldEvents",value:function(){var t=this;if(jQuery("body").off("."+this.pluginName),this.fields.length){var e=this.fields.map((function(t){return"[name^='"+t.getInputName()+"']"})).join(", ");jQuery("body").on("change."+t.pluginName,e,(function(){t.Yoast.pluginReloaded(t.pluginName)}))}}},{key:"extendContent",value:function(t){var e=this;return this.fields.forEach((function(r){t=e._addFieldToContent(r,t)})),t}},{key:"_addFieldToContent",value:function(t,e){var r=this.MinerFactory.createMiner(t).getValues(),n=this.DecoratorFactory.getDecorator(t),i="";return r.forEach((function(t){i+=" "+n.getDecoratedValue(t)})),e+i}}]),t}(),X=function(){function t(e,r){i()(this,t),this.FieldService=e,this.Plugin=r}return u()(t,[{key:"run",value:function(){var t=this;this.Plugin.setFields(this.FieldService.getFields()),this.Plugin.register(),this.Plugin.registerModifications(),jQuery(document).on("toolset_types_yoast_add_field",(function(e,r){t.Plugin.addField(t.FieldService.getFieldByArray(r))}))}}]),t}(),Z=function(){function t(){i()(this,t)}return u()(t,[{key:"bootstrap",value:function(){if("undefined"!=typeof YoastSEO){var t=new W(YoastSEO.app,new S(new G),new Q);return new X(new U,t).run(),!0}return!1}}]),t}();jQuery((function(){(new Z).bootstrap()}))}]);